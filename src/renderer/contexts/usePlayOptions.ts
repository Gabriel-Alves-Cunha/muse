import { observable } from "@legendapp/state";

////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
// Main:

export const playOptions = observable<PlayOptions>({
	random: false,
	loop: false,
});

////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
// Helper functions:

export function toggleLoopMedia(): void {
	const loop = !playOptions.loop.peek();

	(document.getElementById("audio") as HTMLAudioElement).loop = loop;

	playOptions.loop.set(loop);
}

////////////////////////////////////////////////

export const toggleRandom = () =>
	playOptions.random.set(!playOptions.random.peek());

////////////////////////////////////////////////
////////////////////////////////////////////////
////////////////////////////////////////////////
// Types:

export type PlayOptions = { random: boolean; loop: boolean };
